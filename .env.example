# =============================================================================
# Agente Ventas - MaravIA | Variables de entorno
# =============================================================================

# OpenAI (agente especializado en ventas)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_TIMEOUT=60
OPENAI_TEMPERATURE=0.5
MAX_TOKENS=2048

# Servidor HTTP (FastAPI)
SERVER_HOST=0.0.0.0
SERVER_PORT=8001

# Logging
LOG_LEVEL=INFO
# LOG_FILE= (vacío = solo consola)

# Timeouts (segundos)
# API_TIMEOUT: por cada request HTTP (categorías, sucursales, búsqueda).
# CHAT_TIMEOUT: global por mensaje; debe ser >= OPENAI_TIMEOUT.
API_TIMEOUT=10
CHAT_TIMEOUT=120

# APIs MaravIA (productos, categorías, sucursales, FAQs)
API_INFORMACION_URL=https://api.maravia.pe/servicio/ws_informacion_ia.php
API_PREGUNTAS_FRECUENTES_URL=https://api.maravia.pe/servicio/n8n/ws_preguntas_frecuentes.php

# Cache del agente (por empresa)
# AGENT_CACHE_TTL_MINUTES: minutos que vive el agente en cache antes de reconstruirse (min: 5, max: 1440)
# AGENT_CACHE_MAXSIZE: número máximo de empresas en cache simultáneamente
AGENT_CACHE_TTL_MINUTES=60
AGENT_CACHE_MAXSIZE=500

# Retry HTTP con tenacity (TransportError solamente)
# HTTP_RETRY_ATTEMPTS: número de intentos (1 = sin retry)
# HTTP_RETRY_WAIT_MIN/MAX: backoff exponencial en segundos
HTTP_RETRY_ATTEMPTS=3
HTTP_RETRY_WAIT_MIN=1
HTTP_RETRY_WAIT_MAX=4

# Redis (opcional, futuro - checkpointer persistente)
# REDIS_URL=redis://localhost:6379/0
